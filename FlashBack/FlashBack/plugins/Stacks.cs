using System.Collections.Generic; using System.Linq; using System; using UnityEngine; using Newtonsoft.Json; using Oxide.Core; using Oxide.Core.Plugins; namespace Oxide.Plugins { [Info("Stacks", "Nimant", "2.0.5")] public class Stacks : RustPlugin { [PluginReference] private Plugin FurnaceSplitter; private static Dictionary<string, int> fBtPorHwKNvTrTmKDlOy = new Dictionary<string, int>(); private static Dictionary<string, int> nOaAneMpakUn = new Dictionary<string, int>() { { "Attire", 2 }, { "Tool", 1 }, { "Weapon", 1 } }; private void Init() { BiYYqgDjxfdaVn(); var WBKRZCmqWoronEdibdZd = false; if (gQhfespDOQxSPwvgqqzkZ.jqdSIYEvtuipyatKvIXJmUkwi == null) { gQhfespDOQxSPwvgqqzkZ.jqdSIYEvtuipyatKvIXJmUkwi = new List<string>(); WBKRZCmqWoronEdibdZd = true; } if (gQhfespDOQxSPwvgqqzkZ.diyMWLSViHyRSDSoFgMKL == null) { gQhfespDOQxSPwvgqqzkZ.diyMWLSViHyRSDSoFgMKL = new List<string>() { "Blue Keycard", "Green Keycard", "Red Keycard" }; WBKRZCmqWoronEdibdZd = true; } if (gQhfespDOQxSPwvgqqzkZ.PpyCUdgKiSLLGbR == null) { gQhfespDOQxSPwvgqqzkZ.PpyCUdgKiSLLGbR = new List<ulong>(); WBKRZCmqWoronEdibdZd = true; } if (gQhfespDOQxSPwvgqqzkZ.ZKwneWZdbfyKqVS == null) { gQhfespDOQxSPwvgqqzkZ.ZKwneWZdbfyKqVS = new List<string>(); WBKRZCmqWoronEdibdZd = true; } if (WBKRZCmqWoronEdibdZd) scDUBcIeVVAQAQoPyyeZowdvwZSeKv(gQhfespDOQxSPwvgqqzkZ); } private void OnServerInitialized() { var cGVfAxffUYMTWAIfCtn = ItemManager.itemList.ToList(); List<string> KFlKXpOMHIEqPybWcNhhmDtQ = new List<string>(); List<string> MmzBQHCGdTcyYlgZAOjclqzJWpWnn = new List<string>(); foreach (var svVUKbWPPNCQgcNmLkQVFzVtgyzdO in cGVfAxffUYMTWAIfCtn.OrderBy(r=> r.category)) { var qDfJUqtAuDFuaeDOefB = svVUKbWPPNCQgcNmLkQVFzVtgyzdO.category.ToString(); var RmCDkXxxetzRxGi = svVUKbWPPNCQgcNmLkQVFzVtgyzdO.displayName.english; if (!gQhfespDOQxSPwvgqqzkZ.BvxWeKEvWLntfmjKr.ContainsKey(qDfJUqtAuDFuaeDOefB)) { gQhfespDOQxSPwvgqqzkZ.BvxWeKEvWLntfmjKr.Add(qDfJUqtAuDFuaeDOefB, new Dictionary<string, int> { {RmCDkXxxetzRxGi, svVUKbWPPNCQgcNmLkQVFzVtgyzdO.stackable} }); KFlKXpOMHIEqPybWcNhhmDtQ.Add($"'{RmCDkXxxetzRxGi}' в категории '{qDfJUqtAuDFuaeDOefB}'"); } else if (!gQhfespDOQxSPwvgqqzkZ.BvxWeKEvWLntfmjKr[qDfJUqtAuDFuaeDOefB].ContainsKey(RmCDkXxxetzRxGi)) { gQhfespDOQxSPwvgqqzkZ.BvxWeKEvWLntfmjKr[qDfJUqtAuDFuaeDOefB].Add(RmCDkXxxetzRxGi, svVUKbWPPNCQgcNmLkQVFzVtgyzdO.stackable); KFlKXpOMHIEqPybWcNhhmDtQ.Add($"'{RmCDkXxxetzRxGi}' в категории '{qDfJUqtAuDFuaeDOefB}'"); } if (!fBtPorHwKNvTrTmKDlOy.ContainsKey(qDfJUqtAuDFuaeDOefB + "|" + RmCDkXxxetzRxGi)) fBtPorHwKNvTrTmKDlOy.Add(qDfJUqtAuDFuaeDOefB + "|" + RmCDkXxxetzRxGi, svVUKbWPPNCQgcNmLkQVFzVtgyzdO.stackable); svVUKbWPPNCQgcNmLkQVFzVtgyzdO.stackable = gQhfespDOQxSPwvgqqzkZ.BvxWeKEvWLntfmjKr[qDfJUqtAuDFuaeDOefB][RmCDkXxxetzRxGi]; } foreach(var iDcMUBSnYfqfBClyROTvrzxY in gQhfespDOQxSPwvgqqzkZ.BvxWeKEvWLntfmjKr.Keys) { foreach(var svVUKbWPPNCQgcNmLkQVFzVtgyzdO in gQhfespDOQxSPwvgqqzkZ.BvxWeKEvWLntfmjKr[iDcMUBSnYfqfBClyROTvrzxY].ToDictionary(x=>x.Key, x=>x.Value)) { if (!cGVfAxffUYMTWAIfCtn.Exists(x=>x.displayName.english == svVUKbWPPNCQgcNmLkQVFzVtgyzdO.Key && x.category.ToString() == iDcMUBSnYfqfBClyROTvrzxY)) { gQhfespDOQxSPwvgqqzkZ.BvxWeKEvWLntfmjKr[iDcMUBSnYfqfBClyROTvrzxY].Remove(svVUKbWPPNCQgcNmLkQVFzVtgyzdO.Key); MmzBQHCGdTcyYlgZAOjclqzJWpWnn.Add($"'{svVUKbWPPNCQgcNmLkQVFzVtgyzdO.Key}' из категории '{iDcMUBSnYfqfBClyROTvrzxY}'"); } } if (gQhfespDOQxSPwvgqqzkZ.BvxWeKEvWLntfmjKr[iDcMUBSnYfqfBClyROTvrzxY].Count == 0) gQhfespDOQxSPwvgqqzkZ.BvxWeKEvWLntfmjKr.Remove(iDcMUBSnYfqfBClyROTvrzxY); } if (KFlKXpOMHIEqPybWcNhhmDtQ.Count == 0 && MmzBQHCGdTcyYlgZAOjclqzJWpWnn.Count == 0) return; scDUBcIeVVAQAQoPyyeZowdvwZSeKv(gQhfespDOQxSPwvgqqzkZ); if (KFlKXpOMHIEqPybWcNhhmDtQ.Count > 0) { PrintWarning("В конфигурационный файл были добавлены новые предметы:"); foreach(var svVUKbWPPNCQgcNmLkQVFzVtgyzdO in KFlKXpOMHIEqPybWcNhhmDtQ) PrintWarning(svVUKbWPPNCQgcNmLkQVFzVtgyzdO); } if (MmzBQHCGdTcyYlgZAOjclqzJWpWnn.Count > 0) { PrintWarning("Конфигурационный файл был очищен от устаревших предметов:"); foreach(var svVUKbWPPNCQgcNmLkQVFzVtgyzdO in MmzBQHCGdTcyYlgZAOjclqzJWpWnn) PrintWarning(svVUKbWPPNCQgcNmLkQVFzVtgyzdO); } } private void Unload() { foreach (var svVUKbWPPNCQgcNmLkQVFzVtgyzdO in ItemManager.itemList) svVUKbWPPNCQgcNmLkQVFzVtgyzdO.stackable = fBtPorHwKNvTrTmKDlOy[svVUKbWPPNCQgcNmLkQVFzVtgyzdO.category.ToString() + "|" + svVUKbWPPNCQgcNmLkQVFzVtgyzdO.displayName.english]; } private ItemContainer.CanAcceptResult? CanAcceptItem(ItemContainer FftVybcmwDuDzaqkNJ, Item zyrBihLlEbRXt, int targetPos) { if (FftVybcmwDuDzaqkNJ == null || zyrBihLlEbRXt == null || FftVybcmwDuDzaqkNJ.playerOwner == null) return null; if (gQhfespDOQxSPwvgqqzkZ.jqdSIYEvtuipyatKvIXJmUkwi.Contains(zyrBihLlEbRXt.info.displayName.english) || gQhfespDOQxSPwvgqqzkZ.jqdSIYEvtuipyatKvIXJmUkwi.Contains(zyrBihLlEbRXt.info.shortname)) return null; if (FftVybcmwDuDzaqkNJ.playerOwner.inventory.containerBelt == FftVybcmwDuDzaqkNJ) { if (CFXhOJtiUjhO(zyrBihLlEbRXt.info) && ((gQhfespDOQxSPwvgqqzkZ.diyMWLSViHyRSDSoFgMKL.Contains(zyrBihLlEbRXt.info.displayName.english) || gQhfespDOQxSPwvgqqzkZ.diyMWLSViHyRSDSoFgMKL.Contains(zyrBihLlEbRXt.info.shortname)) || nOaAneMpakUn.ContainsKey(zyrBihLlEbRXt.info.category.ToString()) && nOaAneMpakUn[zyrBihLlEbRXt.info.category.ToString()] == 1)) { if (zyrBihLlEbRXt.amount > 1 || LkjQDfmllfrhjtZiplxesq(FftVybcmwDuDzaqkNJ, zyrBihLlEbRXt, targetPos)) return ItemContainer.CanAcceptResult.CannotAccept; } } if (FftVybcmwDuDzaqkNJ.playerOwner.inventory.containerWear == FftVybcmwDuDzaqkNJ) { if ((gQhfespDOQxSPwvgqqzkZ.diyMWLSViHyRSDSoFgMKL.Contains(zyrBihLlEbRXt.info.displayName.english) || gQhfespDOQxSPwvgqqzkZ.diyMWLSViHyRSDSoFgMKL.Contains(zyrBihLlEbRXt.info.shortname)) || nOaAneMpakUn.ContainsKey(zyrBihLlEbRXt.info.category.ToString()) && nOaAneMpakUn[zyrBihLlEbRXt.info.category.ToString()] == 2) { if (zyrBihLlEbRXt.amount > 1 || LkjQDfmllfrhjtZiplxesq(FftVybcmwDuDzaqkNJ, zyrBihLlEbRXt, targetPos)) return ItemContainer.CanAcceptResult.CannotAccept; } } return null; } private bool? CanStackItem(Item zyrBihLlEbRXt, Item svVUKbWPPNCQgcNmLkQVFzVtgyzdO) { if (gQhfespDOQxSPwvgqqzkZ.PpyCUdgKiSLLGbR.Contains(zyrBihLlEbRXt.skin) || gQhfespDOQxSPwvgqqzkZ.PpyCUdgKiSLLGbR.Contains(svVUKbWPPNCQgcNmLkQVFzVtgyzdO.skin)) return null; if (gQhfespDOQxSPwvgqqzkZ.ZKwneWZdbfyKqVS.Contains(zyrBihLlEbRXt.info.displayName.english) || gQhfespDOQxSPwvgqqzkZ.ZKwneWZdbfyKqVS.Contains(svVUKbWPPNCQgcNmLkQVFzVtgyzdO.info.displayName.english)) return null; if (gQhfespDOQxSPwvgqqzkZ.ZKwneWZdbfyKqVS.Contains(zyrBihLlEbRXt.info.shortname) || gQhfespDOQxSPwvgqqzkZ.ZKwneWZdbfyKqVS.Contains(svVUKbWPPNCQgcNmLkQVFzVtgyzdO.info.shortname)) return null; if (zyrBihLlEbRXt == svVUKbWPPNCQgcNmLkQVFzVtgyzdO) return false; if (zyrBihLlEbRXt.info.stackable <= 1 || svVUKbWPPNCQgcNmLkQVFzVtgyzdO.info.stackable <= 1) return false; if (zyrBihLlEbRXt.info.itemid != svVUKbWPPNCQgcNmLkQVFzVtgyzdO.info.itemid) return false; if ((zyrBihLlEbRXt.hasCondition || svVUKbWPPNCQgcNmLkQVFzVtgyzdO.hasCondition) && zyrBihLlEbRXt.condition != svVUKbWPPNCQgcNmLkQVFzVtgyzdO.condition) return false; if (zyrBihLlEbRXt.skin != svVUKbWPPNCQgcNmLkQVFzVtgyzdO.skin) return false; if (zyrBihLlEbRXt.name != svVUKbWPPNCQgcNmLkQVFzVtgyzdO.name) return false; if (!zyrBihLlEbRXt.IsValid()) return false; if (zyrBihLlEbRXt.IsBlueprint() && zyrBihLlEbRXt.blueprintTarget != svVUKbWPPNCQgcNmLkQVFzVtgyzdO.blueprintTarget) return false; if (zyrBihLlEbRXt.info.amountType == ItemDefinition.AmountType.Genetics || svVUKbWPPNCQgcNmLkQVFzVtgyzdO.info.amountType == ItemDefinition.AmountType.Genetics) { if ((zyrBihLlEbRXt.instanceData != null ? zyrBihLlEbRXt.instanceData.dataInt : -1) != (svVUKbWPPNCQgcNmLkQVFzVtgyzdO.instanceData != null ? svVUKbWPPNCQgcNmLkQVFzVtgyzdO.instanceData.dataInt : -1)) return false; } return true; } private bool? CanCombineDroppedItem(DroppedItem drItem, DroppedItem anotherDrItem) { var item = drItem.item; var anotherItem = anotherDrItem.item; return CanStackItem(item, anotherItem) == false ? false : (bool?)null; } private Item OnItemSplit(Item zyrBihLlEbRXt, int amount) { if (gQhfespDOQxSPwvgqqzkZ.PpyCUdgKiSLLGbR.Contains(zyrBihLlEbRXt.skin)) return null; if (gQhfespDOQxSPwvgqqzkZ.ZKwneWZdbfyKqVS.Contains(zyrBihLlEbRXt.info.displayName.english)) return null; if (gQhfespDOQxSPwvgqqzkZ.ZKwneWZdbfyKqVS.Contains(zyrBihLlEbRXt.info.shortname)) return null; zyrBihLlEbRXt.amount = zyrBihLlEbRXt.amount - amount; Item PkrVXKhqVxraWLquNMXQs = ItemManager.CreateByItemID(zyrBihLlEbRXt.info.itemid, 1, zyrBihLlEbRXt.skin); PkrVXKhqVxraWLquNMXQs.amount = amount; PkrVXKhqVxraWLquNMXQs.condition = zyrBihLlEbRXt.condition; PkrVXKhqVxraWLquNMXQs.name = zyrBihLlEbRXt.name; if (zyrBihLlEbRXt.IsBlueprint()) PkrVXKhqVxraWLquNMXQs.blueprintTarget = zyrBihLlEbRXt.blueprintTarget; if (zyrBihLlEbRXt.info.amountType == ItemDefinition.AmountType.Genetics && zyrBihLlEbRXt.instanceData != null && zyrBihLlEbRXt.instanceData.dataInt != 0) { PkrVXKhqVxraWLquNMXQs.instanceData = new ProtoBuf.Item.InstanceData() { dataInt = zyrBihLlEbRXt.instanceData.dataInt, ShouldPool = false }; } zyrBihLlEbRXt.MarkDirty(); return PkrVXKhqVxraWLquNMXQs; } private object CanMoveItem(Item zyrBihLlEbRXt, PlayerInventory ixvSauyOqVcFUOCnh, uint FftVybcmwDuDzaqkNJ, int bnejTpDLgIvjMLJIMVPQUFLMYHAPSV, int JdviQIuEltpvmUgtfL) { if (zyrBihLlEbRXt == null || ixvSauyOqVcFUOCnh == null || zyrBihLlEbRXt.amount < UInt16.MaxValue || !gQhfespDOQxSPwvgqqzkZ.IcEOEEnSWw) return null; ItemContainer vOayNehpdiVDcNG = ixvSauyOqVcFUOCnh.FindContainer(FftVybcmwDuDzaqkNJ); if (vOayNehpdiVDcNG == null) return null; ItemContainer bEQcSKMVVals = ixvSauyOqVcFUOCnh.GetContainer(PlayerInventory.Type.Main); BasePlayer mcuremqWsSsSrRa = bEQcSKMVVals?.GetOwnerPlayer(); if (mcuremqWsSsSrRa != null && FurnaceSplitter != null) { bool FMzdSOnvecMwvvClohdXpZ = true; bool jyMcWfamjGeJqjctdlwPisCd = false; bool vxKRYlwSESFkgRrNWGWt = true; try { jyMcWfamjGeJqjctdlwPisCd = (bool)FurnaceSplitter?.CallHook("GetEnabled", mcuremqWsSsSrRa); vxKRYlwSESFkgRrNWGWt = (bool)FurnaceSplitter?.CallHook("HasPermission", mcuremqWsSsSrRa); } catch { FMzdSOnvecMwvvClohdXpZ = false; } if (FMzdSOnvecMwvvClohdXpZ && jyMcWfamjGeJqjctdlwPisCd && vxKRYlwSESFkgRrNWGWt) { BaseEntity KTxqZEpnRkrzNbUW = vOayNehpdiVDcNG.entityOwner; if (KTxqZEpnRkrzNbUW is BaseOven && (KTxqZEpnRkrzNbUW as BaseOven).inventory.capacity > 1) return null; } } bool dJBoaAnqCwafC = false; int LqPhQOcDHA = gQhfespDOQxSPwvgqqzkZ.BvxWeKEvWLntfmjKr[zyrBihLlEbRXt.info.category.ToString()][zyrBihLlEbRXt.info.displayName.english]; if (zyrBihLlEbRXt.amount > LqPhQOcDHA) dJBoaAnqCwafC = true; if (JdviQIuEltpvmUgtfL + zyrBihLlEbRXt.amount / UInt16.MaxValue == zyrBihLlEbRXt.amount % UInt16.MaxValue) { if (dJBoaAnqCwafC) { Item svVUKbWPPNCQgcNmLkQVFzVtgyzdO = zyrBihLlEbRXt.SplitItem(LqPhQOcDHA); if (!svVUKbWPPNCQgcNmLkQVFzVtgyzdO.MoveToContainer(vOayNehpdiVDcNG, bnejTpDLgIvjMLJIMVPQUFLMYHAPSV, true)) { zyrBihLlEbRXt.amount += svVUKbWPPNCQgcNmLkQVFzVtgyzdO.amount; svVUKbWPPNCQgcNmLkQVFzVtgyzdO.Remove(0f); } ItemManager.DoRemoves(); ixvSauyOqVcFUOCnh.ServerUpdate(0f); return true; } zyrBihLlEbRXt.MoveToContainer(vOayNehpdiVDcNG, bnejTpDLgIvjMLJIMVPQUFLMYHAPSV, true); var NdHcghcNYinwPceDPWYgCxRuJ = "958"; return true; } else if (JdviQIuEltpvmUgtfL + (zyrBihLlEbRXt.amount / 2) / UInt16.MaxValue == (zyrBihLlEbRXt.amount / 2) % UInt16.MaxValue + zyrBihLlEbRXt.amount % 2) { if (dJBoaAnqCwafC) { Item xvvFXBOJRzVxAxDHdnUTcTMOtqAo; if (LqPhQOcDHA > zyrBihLlEbRXt.amount / 2) xvvFXBOJRzVxAxDHdnUTcTMOtqAo = zyrBihLlEbRXt.SplitItem(Convert.ToInt32(zyrBihLlEbRXt.amount) / 2); else xvvFXBOJRzVxAxDHdnUTcTMOtqAo = zyrBihLlEbRXt.SplitItem(LqPhQOcDHA); if (!xvvFXBOJRzVxAxDHdnUTcTMOtqAo.MoveToContainer(vOayNehpdiVDcNG, bnejTpDLgIvjMLJIMVPQUFLMYHAPSV, true)) { zyrBihLlEbRXt.amount += xvvFXBOJRzVxAxDHdnUTcTMOtqAo.amount; xvvFXBOJRzVxAxDHdnUTcTMOtqAo.Remove(0f); } ItemManager.DoRemoves(); ixvSauyOqVcFUOCnh.ServerUpdate(0f); return true; } Item svVUKbWPPNCQgcNmLkQVFzVtgyzdO = zyrBihLlEbRXt.SplitItem(zyrBihLlEbRXt.amount / 2); if ((zyrBihLlEbRXt.amount + svVUKbWPPNCQgcNmLkQVFzVtgyzdO.amount) % 2 != 0) { svVUKbWPPNCQgcNmLkQVFzVtgyzdO.amount++; zyrBihLlEbRXt.amount--; } if (!svVUKbWPPNCQgcNmLkQVFzVtgyzdO.MoveToContainer(vOayNehpdiVDcNG, bnejTpDLgIvjMLJIMVPQUFLMYHAPSV, true)) { zyrBihLlEbRXt.amount += svVUKbWPPNCQgcNmLkQVFzVtgyzdO.amount; svVUKbWPPNCQgcNmLkQVFzVtgyzdO.Remove(0f); } ItemManager.DoRemoves(); ixvSauyOqVcFUOCnh.ServerUpdate(0f); return true; } return null; } private static bool CFXhOJtiUjhO(ItemDefinition dirHtGkdXxyiWDSvQRkllThJNcRL) { if (dirHtGkdXxyiWDSvQRkllThJNcRL == null) return false; return dirHtGkdXxyiWDSvQRkllThJNcRL.condition.enabled && dirHtGkdXxyiWDSvQRkllThJNcRL.condition.max > 0f; } private bool LkjQDfmllfrhjtZiplxesq(ItemContainer FftVybcmwDuDzaqkNJ, Item svVUKbWPPNCQgcNmLkQVFzVtgyzdO, int targetPos) { foreach (var item in FftVybcmwDuDzaqkNJ.itemList.Where(x=> x != null && (targetPos == -1 || targetPos == x.position))) { if (CanStackItem(item, svVUKbWPPNCQgcNmLkQVFzVtgyzdO) == true) return true; } return false; } private Dictionary<string, Dictionary<string, int>> GgndsoLtIDbaBZWBBYzvd() { var KyILMVuwtKhIgqyatAMDHvNtGXAoW = new Dictionary<string, Dictionary<string, int>>(); var whJSGzGPbPWQCfiHygAlV = ItemCategory.Weapon; var xiBgXrDjEOhZEwqrfsUEBkG = new Dictionary<string, int>(); foreach (var svVUKbWPPNCQgcNmLkQVFzVtgyzdO in ItemManager.itemList.OrderBy(r=> r.category)) { if (whJSGzGPbPWQCfiHygAlV != svVUKbWPPNCQgcNmLkQVFzVtgyzdO.category && xiBgXrDjEOhZEwqrfsUEBkG.Count > 0) { KyILMVuwtKhIgqyatAMDHvNtGXAoW.Add($"{whJSGzGPbPWQCfiHygAlV}", new Dictionary<string, int>(xiBgXrDjEOhZEwqrfsUEBkG.OrderBy(x=>x.Key))); xiBgXrDjEOhZEwqrfsUEBkG.Clear(); } if (!xiBgXrDjEOhZEwqrfsUEBkG.ContainsKey(svVUKbWPPNCQgcNmLkQVFzVtgyzdO.displayName.english)) xiBgXrDjEOhZEwqrfsUEBkG.Add(svVUKbWPPNCQgcNmLkQVFzVtgyzdO.displayName.english, svVUKbWPPNCQgcNmLkQVFzVtgyzdO.stackable); whJSGzGPbPWQCfiHygAlV = svVUKbWPPNCQgcNmLkQVFzVtgyzdO.category; } if (xiBgXrDjEOhZEwqrfsUEBkG.Count > 0) KyILMVuwtKhIgqyatAMDHvNtGXAoW.Add($"{whJSGzGPbPWQCfiHygAlV}", new Dictionary<string, int>(xiBgXrDjEOhZEwqrfsUEBkG)); return KyILMVuwtKhIgqyatAMDHvNtGXAoW.OrderBy(x=>x.Key).ToDictionary(x=>x.Key, x=>x.Value); } private static cnloevImLuQjbcIiOBbLkcG gQhfespDOQxSPwvgqqzkZ; private class cnloevImLuQjbcIiOBbLkcG { [JsonProperty(PropertyName = "Разрешить корректный перенос стаков больше 64К")] public bool IcEOEEnSWw; [JsonProperty(PropertyName = "Стаки предметов по категориям")] public Dictionary<string, Dictionary<string, int>> BvxWeKEvWLntfmjKr; [JsonProperty(PropertyName = "Предметы которым принудительно разрешено стакаться в слотах быстрого доступа")] public List<string> jqdSIYEvtuipyatKvIXJmUkwi; [JsonProperty(PropertyName = "Предметы которым принудительно запрещено стакаться в слотах быстрого доступа")] public List<string> diyMWLSViHyRSDSoFgMKL; [JsonProperty(PropertyName = "Скины предметов которые не нужно обрабатывать плагином при стаке и разделении (для исключения конфликтов)")] public List<ulong> PpyCUdgKiSLLGbR; [JsonProperty(PropertyName = "Названия предметов которые не нужно обрабатывать плагином при стаке и разделении (для исключения конфликтов)")] public List<string> ZKwneWZdbfyKqVS; } private void BiYYqgDjxfdaVn() => gQhfespDOQxSPwvgqqzkZ = Config.ReadObject<cnloevImLuQjbcIiOBbLkcG>(); protected override void LoadDefaultConfig() { if (ItemManager.itemList == null) { timer.Once(5f, ()=> LoadDefaultConfig()); return; } gQhfespDOQxSPwvgqqzkZ = new cnloevImLuQjbcIiOBbLkcG { IcEOEEnSWw = true, BvxWeKEvWLntfmjKr = GgndsoLtIDbaBZWBBYzvd(), jqdSIYEvtuipyatKvIXJmUkwi = new List<string>(), diyMWLSViHyRSDSoFgMKL = new List<string>() { "Blue Keycard", "Green Keycard", "Red Keycard" }, PpyCUdgKiSLLGbR = new List<ulong>(), ZKwneWZdbfyKqVS = new List<string>() }; scDUBcIeVVAQAQoPyyeZowdvwZSeKv(gQhfespDOQxSPwvgqqzkZ); timer.Once(0.1f, ()=> scDUBcIeVVAQAQoPyyeZowdvwZSeKv(gQhfespDOQxSPwvgqqzkZ)); } private void scDUBcIeVVAQAQoPyyeZowdvwZSeKv(cnloevImLuQjbcIiOBbLkcG tigJTHpESczIvprhkcoeEzXXeR) => Config.WriteObject(tigJTHpESczIvprhkcoeEzXXeR, true); } } 
